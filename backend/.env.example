# Backend Environment Variables - Example Configuration

# =====================================
# DATABASE
# =====================================
# SQLite (default for local dev)
# DATABASE_URL=./auditsec.db

# Production DB (Turso, Neon, Supabase)
# DATABASE_URL=libsql://your-database.turso.io?authToken=your-token
# DATABASE_URL=postgresql://user:password@host:5432/auditsec

# =====================================
# JWT & AUTHENTICATION
# =====================================
# Generate with: openssl rand -base64 32
JWT_SECRET=your-super-secret-jwt-key-256-bits-minimum

# =====================================
# OAUTH 2.0 PROVIDERS
# =====================================
# Google OAuth
GOOGLE_CLIENT_ID=123456789-abcdefghijklmnop.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-xxxxxxxxxxxxxxxxxxxxx

# Microsoft OAuth (optional)
# MS_CLIENT_ID=your-microsoft-client-id
# MS_CLIENT_SECRET=your-microsoft-client-secret
# MS_TENANT_ID=your-tenant-id

# Apple Sign-In (optional)
# APPLE_CLIENT_ID=com.yourcompany.auditsec
# APPLE_CLIENT_SECRET=your-apple-client-secret

# =====================================
# URLs
# =====================================
# Backend URL (used for OAuth redirects)
BACKEND_URL=http://localhost:3001
# Production example: BACKEND_URL=https://api.auditsec.com

# Frontend URL (used for OAuth callback redirects)
FRONTEND_URL=http://localhost:5173
# Production example: FRONTEND_URL=https://auditsec.com

# =====================================
# REDIS & QUEUE
# =====================================
# Redis connection (for BullMQ workers)
REDIS_HOST=localhost
REDIS_PORT=6379
# REDIS_PASSWORD=your-redis-password
# REDIS_TLS=true

# Production Redis (Upstash, Redis Cloud)
# REDIS_URL=redis://default:password@host:6379

# =====================================
# EMAIL SERVICES
# =====================================
# SendGrid
# SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxxx
# SENDGRID_FROM_EMAIL=noreply@auditsec.com

# Mailgun
# MAILGUN_API_KEY=key-xxxxxxxxxxxxxxxxxxxxx
# MAILGUN_DOMAIN=mg.auditsec.com

# Resend
# RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxxx

# =====================================
# SMS SERVICES (for phone auth)
# =====================================
# Twilio
# TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxx
# TWILIO_AUTH_TOKEN=your-auth-token
# TWILIO_PHONE_NUMBER=+15551234567

# =====================================
# STORAGE (AWS S3 / Cloudflare R2)
# =====================================
# AWS_ACCESS_KEY_ID=AKIAxxxxxxxxxxxxxxxxxxxxx
# AWS_SECRET_ACCESS_KEY=your-secret-access-key
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=auditsec-reports

# Cloudflare R2 (S3-compatible)
# AWS_ENDPOINT_URL=https://your-account-id.r2.cloudflarestorage.com

# =====================================
# STRIPE (PAYMENTS)
# =====================================
# STRIPE_SECRET_KEY=sk_test_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_PUBLISHABLE_KEY=pk_test_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxxxxxxxxxxxxx

# Stripe Price IDs (from Stripe Dashboard)
# STRIPE_PRICE_ID_FREE=price_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_PRICE_ID_PRO=price_xxxxxxxxxxxxxxxxxxxxx
# STRIPE_PRICE_ID_ENTERPRISE=price_xxxxxxxxxxxxxxxxxxxxx

# =====================================
# AI ANALYSIS (OPTIONAL)
# =====================================
# LLM endpoint for AI-powered vulnerability analysis
# AI_ANALYSIS_ENDPOINT=https://api.openai.com/v1/chat/completions
# AI_ANALYSIS_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxx

# Custom LLM (Anthropic, Mistral, local)
# AI_ANALYSIS_ENDPOINT=https://api.anthropic.com/v1/messages
# AI_ANALYSIS_API_KEY=sk-ant-xxxxxxxxxxxxxxxxxxxxx

# =====================================
# SECURITY & RATE LIMITING
# =====================================
# Rate limiting (requests per window)
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Admin credentials (basic auth for /admin routes)
# ADMIN_USERNAME=admin
# ADMIN_PASSWORD=your-secure-admin-password

# =====================================
# DOCKER & SCANNING
# =====================================
# Docker socket (for scan workers)
# DOCKER_SOCKET=/var/run/docker.sock

# Scan resource limits
MAX_SCAN_TIMEOUT_MS=300000
MAX_SCAN_MEMORY_MB=512

# =====================================
# LOGGING & MONITORING
# =====================================
# Log level (debug, info, warn, error)
LOG_LEVEL=info

# Sentry (error tracking)
# SENTRY_DSN=https://xxxxxxxxxxxxxxxxxxxxx@sentry.io/xxxxxxxxxxxxxxxxxxxxx

# =====================================
# DEVELOPMENT
# =====================================
# Node environment
NODE_ENV=development
# NODE_ENV=production

# Port
PORT=3001
